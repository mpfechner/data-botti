{% extends "base.html" %}

{% block title %}DataBotti – CSV Analyzer{% endblock %}

{% block content %}
    <div class="main-content">
        <div class="welcome-section">
            <h1>Welcome to DataBotti</h1>
            <p>Please upload a CSV file for analysis:</p>
        </div>

        <form action="{{ url_for('datasets.upload_dataset') }}" method="post" enctype="multipart/form-data" class="upload-form">
          {{ csrf_field() }}
            <div>
                <input type="file" name="file" accept=".csv" required class="styled-input">
            </div>
            {% if groups %}
            <div class="group-selection">
                <p>Select groups to share this dataset with:</p>
                {% for g in groups %}
                <label>
                    <input type="checkbox" name="group_ids" value="{{ g.id }}">
                    {{ g.name }}
                </label><br>
                {% endfor %}
            </div>
            {% else %}
            <div class="group-selection">
                <p><em>No groups available – dataset will only be visible to you.</em></p>
            </div>
            {% endif %}
            <div>
                <button type="submit">Upload and Analyze</button>
            </div>
        </form>
    </div>
{% endblock %}