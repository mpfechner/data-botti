{% extends "base.html" %}

{% block title %}DataBotti – CSV-Analyse{% endblock %}

{% block content %}
    <div class="main-content">
        <div class="welcome-section">
            <h1>Willkommen bei DataBotti</h1>
            <p>Bitte lade eine CSV-Datei zur Analyse hoch:</p>
        </div>

        <form action="{{ url_for('datasets.upload_dataset') }}" method="post" enctype="multipart/form-data" class="upload-form">
          {{ csrf_field() }}
            <div>
                <input type="file" name="file" accept=".csv" required class="styled-input">
            </div>
            {% if groups %}
            <div class="group-selection">
                <p>Wähle Gruppen aus, mit denen du diesen Datensatz teilen möchtest:</p>
                {% for g in groups %}
                <label>
                    <input type="checkbox" name="group_ids" value="{{ g.id }}">
                    {{ g.name }}
                </label><br>
                {% endfor %}
            </div>
            {% else %}
            <div class="group-selection">
                <p><em>Keine Gruppen verfügbar – der Datensatz ist nur für dich sichtbar.</em></p>
            </div>
            {% endif %}
            <div>
                <button type="submit">Hochladen und analysieren</button>
            </div>
        </form>
    </div>
{% endblock %}