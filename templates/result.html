<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DataBotti – Analysis Result</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Analysis Result for {{ summary.filename }}</h1>

    <h2>Dataset Overview</h2>
    <ul>
        <li><strong>Rows and Columns:</strong> {{ summary.shape[0] }} rows, {{ summary.shape[1] }} columns</li>
        <li><strong>Columns:</strong> {{ summary.columns|join(', ') }}</li>
    </ul>

    <h2>Sample Data (first 10 rows)</h2>
    {{ summary.head|safe }}

    <h2>Descriptive Statistics</h2>
    {{ summary.description|safe }}

    {% if columns %}
    <hr>
    <h2>Spaltenübersicht</h2>
    <table class="table table-sm table-striped table-hover">
      <thead>
        <tr>
          <th>#</th>
          <th>Spaltenname</th>
          <th>Datentyp</th>
          <th>Nullable</th>
          <th>Distinct</th>
          <th>Min</th>
          <th>Max</th>
        </tr>
      </thead>
      <tbody>
      {% for c in columns %}
        <tr>
          <td>{{ c.ordinal }}</td>
          <td>{{ c.name }}</td>
          <td>{{ c.dtype }}</td>
          <td>{{ 'Ja' if c.is_nullable else 'Nein' }}</td>
          <td>{{ c.distinct_count if c.distinct_count is not none else '–' }}</td>
          <td>{{ c.min_val if c.min_val else '–' }}</td>
          <td>{{ c.max_val if c.max_val else '–' }}</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
    {% endif %}

    <p><a href="{{ url_for('index') }}">Upload another file</a></p>
</body>
</html>